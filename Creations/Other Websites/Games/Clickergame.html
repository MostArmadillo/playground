<!DOCTYPE html>
<html>

<head>
    <title>Clicker Game</title>
    <style>
        #board {
            background-color: lightblue;
            width: 100%;
            height: 1000px;
            text-align: center;
            font-size: 18pt;
        }

        .box {
            background-color: grey;
            width: 180px;
            height: 180px;
            float: left;
            margin: 10px;
        }

        .visible {
            display: block;
        }

        .hidden {
            display: none;
        }
    </style>
    <script>
        var count = 0;
        function updateCount() {
            var count = count + 1;
            document.getElementById("timer").innerHTML = count;
            setTimeout(updateCount, 1000);
        }
    </script>
</head>

<body>
    <div id="board">
        <input id="Play" value="Play" onclick="startGame();" type="button">
        <p> To start the game, click the play button on top and to play you need to click the box that has the letter X
            and not the letter W.
            The box that has the letter X will change every time it flashes.
        If you click the letter W you lose 2 points and when  you click a X you get 1 point</p>
        <div id="timer"></div>
        <div class="box">1</div>
        <div class="box">2</div>
        <div class="box">3</div>
        <div class="box">4</div>
        <div class="box">5</div>
        <div class="box">6</div>
        <div class="box">7</div>
        <div class="box">8</div>
    </div>
    <script>
        var count = 0;
        var peopleVisible = false;
        var loops = 0;
        var gameScore = 0;
        function startGame() {
            gameLoop();
            updateCount();
        }
        function gameLoop() {
            flashCharacters();
            createCharacters();
            peopleVisible = !peopleVisible
            loops++;
            if (loops < 7) {
                setTimeout(gameLoop, peopleVisible ? 3000 : 1000)
            } else {
                alert("Game over!")
                highScore();
            }
        }
        function createCharacters() {
            var board = document.getElementById("board");
            var classToSet = peopleVisible ? "box visible" : "box hidden";
            for (var index = 0; index < 8; index++) {
                board.children[index].innerHTML = "W"
                board.children[index].onclick = function () {
                    alert("You clicked the wrong thing");
                    var gameScore = gameScore += -2;
                }
            }
            var randomNumber = Math.floor(Math.random() * 8) + 1;
            board.children[randomNumber - 1].innerHTML = "X";
            board.children[randomNumber - 1].onclick = function () {
                var gameScore = gameScore += 1;
            }
            board.children[randomNumber-1].className = classToSet + " thief";
        }
        function flashCharacters() {
            var board = document.getElementById("board");
            var classToSet = "";
            if (peopleVisible) {
                classToSet = "box visible";
            } else {
                classToSet = "box hidden";
            }
            for (var index = 0; index < 8; index++) {
                board.children[index].className = classToSet;
            }
        }
    </script>
</body>

</html>