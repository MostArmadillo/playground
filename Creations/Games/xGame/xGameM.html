<!DOCTYPE html>
<html>

<head>
    <title> Click the X to win! (Medium/Normal)</title>
    <style>
        #board {
            background-color: grey;
            width: 100%;
            height: 1000px;
            text-align: center;
            font-size: 18pt;

            border: 1px solid grey;
        }

        .box {
            background-color: black;
            width: 80px;
            height: 80px;
            color: lightcoral;
            border: 1px solid lightcoral;
            text-align: center;
            float: left;
            font-size: 18pt;
            margin: 20px;
            display: hidden;
        }

        .visible {
            display: block;
        }

        .hidden {
            display: none;
        }
        #title {
            margin: 0px;
        }
        #PlayButton {
            margin: 0px;
        }
    </style>
    <script>
        
        function startGame() {
            gameLoop();
        }
        var loops = 0;
        var peopleVisible = false;
        var hidden = false;
        function gameLoop() {
            peopleVisible = !peopleVisible
            createCharacters();
            flashCharacters();
            
            loops++;
            if (loops < 20) {
                setTimeout(gameLoop, 500)
            } else {
                alert("Time is up! Game over!")
                window.reload()
            }
        }
        function flashCharacters() {
            var board = document.getElementById("board");
            var classToSet = "";
            if (peopleVisible) {
                classToSet = "box visible";
            } else {
                classToSet = "box hidden";
            }
            for (var index = 0; index < 44; index++) {
                board.children[index].className = classToSet;
            }
        }
        function createCharacters() {
            var board = document.getElementById("board");
            for (var index = 0; index < 44; index++) {
                board.children[index].innerHTML = ""
                board.children[index].onclick = function () {
                    alert("You clicked the wrong thing");
                }
            }
            var randomNumber = Math.floor(Math.random() * 44) + 1;
            board.children[randomNumber - 1].innerHTML = "X";
            board.children[randomNumber - 1].onclick = function () {
                alert("You won the game!");
            }
        }
        function hiddenfunction() {
            var title = document.getElementById("title");
            var hidden2 = "";
            if (hidden) {
                hidden2 = "title hidden"
            }
            for(var index = 0; index >= 0; index++) {
                document.getElementById("board").children[index].className = hidden2;
            }
            setTimeout(hiddenfunction, 100);
        }
        function hiddenfunction2() {
            var button = document.getElementById("PlayButton");
            var hidden2 = "";
            if (hidden) {
                hidden2 = "PlayButton hidden"
            }
            for(var index = 0; index >= 0; index++) {
                document.getElementById("board").children[index].className = hidden2;
            }
            setTimeout(hiddenfunction2, 100);
        }
    </script>
</head>

<body>
        <input id="PlayButton" value="Click me to Play" type="button" onclick="startGame(); hiddenfunction();">
    <div id="board">
       
        
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>    
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       <div class="box"></div>
       
</body>

</html>